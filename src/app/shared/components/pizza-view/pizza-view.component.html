<div class="pizzaView-block">
  <div class="container">
    <div class="pizzaView-wrap">
      <div class="pizzaView-img-block">
        <img src={{pizza.image}} alt="">
      </div>
      <div class="pizzaView-body">
        <h1 class="pizzaView-title">Pizza {{ pizza.title }}</h1>
        <span></span>
        <div class="pizzaView-description">{{ pizza.description | space }}</div>
        <div class="pizzaView-size">
          <div class="size-title">Выберите размер пиццы:</div>
          <form [formGroup]="pizzaSizeForm" class="pizzaView-size-form">
            <ul class="size-block">
              <li>
                <input class="size-form-item" type="radio" (change)="getSize(pizza.size[0])" (click)="createOrder()" formControlName="price" value={{pizza.price[0]}} />
                <span>{{pizza.size[0]}}cm</span>
              </li>
              <li>
                <input class="size-form-item" type="radio" (change)="getSize(pizza.size[1])" (click)="createOrder()" formControlName="price" value={{pizza.price[1]}} />
                <span>{{pizza.size[1]}}cm</span>
              </li>
              <li>
                <input class="size-form-item" type="radio" (change)="getSize(pizza.size[2])" (click)="createOrder()" formControlName="price" value={{pizza.price[2]}} />
                <span>{{pizza.size[2]}}cm</span>
              </li>
            </ul>
          </form>

        </div>
        <div class="pizzaView-footer">
          <div class="pizzaView-price">Цена: {{ (pizzaSizeForm.value.price | json) | withoutQuotes }}гр</div>
          <div class="pizzaView-cart">
            <button mat-stroked-button (click)="setToCart()">В корзину</button>
          </div>
        </div>
      </div>
    </div>
    <div class="pizzaView-similar">
      <div class="similar-title">Похожие пиццы</div>
      <div class="similar-body">
        <app-pizza-card class="similar-item" *ngFor="let pizza of similarPizzas$ | async" [item]="pizza"></app-pizza-card>
      </div>
    </div>
    <div class="comments">
      <div class="comments-title">Комментарии</div>
      <mat-divider></mat-divider>
      <div class="comments-container">
        <div class="comments-list"></div>
        <div class="comment-create">
          <form class="comments-form" [formGroup]="commentForm" (submit)="getCommentData()">
            <mat-form-field appearance="outline">
              <mat-label>Имя</mat-label>
              <input matInput formControlName="commentName">
              <mat-error *ngIf="requiredNameError">Name is empty</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput formControlName="commentEmail">
              <mat-error *ngIf="emailErrors">Email is not correct or empty</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Textarea</mat-label>
              <textarea matInput formControlName="commentText"></textarea>
              <mat-error *ngIf="commentError">Comment is not correct or empty</mat-error>
            </mat-form-field>
            <button type="submit" mat-stroked-button class="comment-btn">Добавить</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

